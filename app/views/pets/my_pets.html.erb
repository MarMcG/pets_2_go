<div class="container">
  <h1 class="mt-3">My Pets</h1>
  <% @bookings.each do |booking|%>
  <% pet = booking[0] %>
  <div class="carde">
    <%= cl_image_tag pet.photo.key%>
    <div class="card-info">
      <h3 class="card-name">My name is <span><%= pet.name%></span>!</h3>
      <%= link_to pet_path(pet) do %>
        <h4 class="card-title"><%= pet.title %></h4>
      <% end %>
      <div class="card-type">- I'm a <strong><%= pet.pet_type %></strong>, and I'm <strong><%= pet.age %></strong> years old</div>
      <div class="card-desc"><i>''<%= pet.description %>''</i></div>

      <div class="d-flex justify-content-between">
        <div class="card-rate ">
          <span class="rounded-pill"><%= fa_icon "solid dollar"%><%= pet.rate %></span>/day
        </div>
        <div class="d-flex">
          <button type="button" class="my-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
          Remove Pet
          </button>
          <button type="button" class="my-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
          My Bookings
          </button>
        </div>

      </div>
    </div>

  </div>

  <%# <button type="button" class="my-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
    My Bookings
  </button> %>
    <% pet.bookings.each do |booking|%>
    <% pet = booking.pet %>
    <div class="booking">
      <%= cl_image_tag booking.user.photo.key%>
      <div class="card-info">
        <%= link_to pet_path(pet) do %>
          <h4 class="card-name"><%= booking.user.username %></span>!</h4>
        <% end %>
        <div class="card-rate d-flex justify-content-between gap-3 mt-3 align-items-start">
          <div>
            <div class="d-flex mx-3">
              <h5>Time:</h5>
              <p class="m-0 mx-2"><%= booking.start_date %></p>
              <p>-</p>
              <p class="m-0 mx-2"><%= booking.end_date %></p>
            </div>
            <span class="rounded-pill ms-3"><%= (booking.end_date - booking.start_date).to_i * pet.rate %><%= fa_icon "solid dollar"%></span>
          </div>
          <div class="d-flex">
            <h2 class="mx-3"><%= booking.status %></h2>
            <% if booking.status == "pending" %>
              <div class="d-flex flex-column mx-3 bg-black py-2 px-3 rounded">
                <%= link_to "Approve", booking_confirm_path(booking), method: :patch, remote: true %>
                <%= link_to "Deny", booking_reject_path(booking), method: :patch, remote: true %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>


<% end %>
  <%# <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Requests to book</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>


        <div class="modal-body"> %>

          <%# booking[1].each do |book| %>
            <%# <h2>= link_to "delete booking", booking_path(book.id), method: :delete, data: { confirm: "Are you sure you want to remove #{pet.name}"}, class: 'text-danger' %>
          <%# end %>
        <%# </div> %>
        <%# <div class="modal-footer">

          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div> %>
      <%# </div> %>
    <%# </div> %>
  <%# </div> %>
